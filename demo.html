<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hola Espa√±ol - 5Î∂Ñ Ïä§ÌéòÏù∏Ïñ¥</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        header {
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .header-content {
            padding: 1rem;
            text-align: center;
        }
        
        .header-content h1 {
            font-size: 1.5rem;
            margin-bottom: 0.25rem;
        }
        
        .header-content p {
            color: #666;
            font-size: 0.9rem;
        }
        
        .nav-menu {
            display: flex;
            border-top: 1px solid #e0e0e0;
        }
        
        .nav-item {
            flex: 1;
            padding: 0.75rem;
            text-align: center;
            background: white;
            border: none;
            border-right: 1px solid #e0e0e0;
            cursor: pointer;
            font-size: 0.9rem;
            color: #666;
            transition: all 0.2s;
        }
        
        .nav-item:last-child {
            border-right: none;
        }
        
        .nav-item:hover {
            background: #f5f5f5;
        }
        
        .nav-item.active {
            background: #3b82f6;
            color: white;
            font-weight: bold;
        }
        
        main {
            flex: 1;
            padding: 1rem;
            max-width: 400px;
            margin: 0 auto;
            width: 100%;
        }
        
        .progress-bar {
            background: white;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .progress-track {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: #3b82f6;
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .practice-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 1rem;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
            gap: 1rem;
        }
        
        .nav-btn {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            color: #666;
            transition: all 0.2s;
        }
        
        .nav-btn:hover:not(:disabled) {
            border-color: #3b82f6;
            color: #3b82f6;
            background: #f5f9ff;
        }
        
        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }
        
        .nav-btn.next {
            flex-direction: row-reverse;
        }
        
        .prompt {
            background: #e3f2fd;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
            text-align: center;
        }
        
        .translation {
            text-align: center;
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            min-height: 1.5rem;
        }
        
        .translation-toggle {
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .translation-btn {
            background: #f0f0f0;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            color: #666;
        }
        
        .translation-btn:hover {
            background: #e0e0e0;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .option-btn {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1rem;
            text-align: left;
            position: relative;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .option-text {
            flex: 1;
        }
        
        .option-translation-toggle {
            padding: 0.3rem 0.6rem;
            background: #f0f0f0;
            border-radius: 15px;
            font-size: 0.8rem;
            cursor: pointer;
            margin-left: 0.5rem;
        }
        
        .option-btn:hover {
            border-color: #3b82f6;
            background: #f5f9ff;
        }
        
        .option-btn.correct {
            border-color: #10b981;
            background: #d1fae5;
        }
        
        .option-btn.incorrect {
            border-color: #ef4444;
            background: #fee2e2;
        }
        
        .option-btn.disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .option-translation {
            font-size: 0.85rem;
            color: #666;
            margin-top: 0.3rem;
            display: none;
        }
        
        .option-translation.show {
            display: block;
        }
        
        .feedback {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            display: none;
        }
        
        .feedback.show {
            display: block;
        }
        
        .feedback.correct {
            background: #d1fae5;
            color: #065f46;
        }
        
        .feedback.incorrect {
            background: #fee2e2;
            color: #991b1b;
        }
        
        .streak {
            text-align: center;
            font-size: 0.9rem;
            color: #f97316;
            margin-top: 0.5rem;
        }
        
        .explanation {
            margin-top: 0.5rem;
            font-size: 0.85rem;
            color: #666;
        }
        
        .verb-tense-card {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }
        
        .verb-info {
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .verb-info h3 {
            color: #3b82f6;
            margin-bottom: 0.3rem;
        }
        
        .verb-info p {
            color: #666;
            font-size: 0.9rem;
        }
        
        .conjugation-grid {
            display: grid;
            gap: 0.5rem;
        }
        
        .conjugation-item {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 0.5rem;
            align-items: center;
        }
        
        .subject {
            font-weight: bold;
            color: #666;
            text-align: right;
            font-size: 0.9rem;
        }
        
        .conjugation-input {
            padding: 0.5rem;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .conjugation-input.correct {
            border-color: #10b981;
            background: #d1fae5;
        }
        
        .conjugation-input.incorrect {
            border-color: #ef4444;
            background: #fee2e2;
        }
        
        .check-btn {
            width: 100%;
            padding: 1rem;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 1rem;
        }
        
        .check-btn:hover {
            background: #2563eb;
        }
        
        .check-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }
        
        /* ÌôîÏÇ¥Ìëú ÏïÑÏù¥ÏΩò */
        .arrow-left::before {
            content: "‚Üê";
            font-size: 1.2rem;
        }
        
        .arrow-right::after {
            content: "‚Üí";
            font-size: 1.2rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Hola Espa√±ol üá™üá∏</h1>
            <p>Îß§Ïùº 5Î∂Ñ Ïä§ÌéòÏù∏Ïñ¥ Ïó∞Ïäµ</p>
        </div>
        <nav class="nav-menu">
            <button class="nav-item active" onclick="switchMode('conversation')">ÌöåÌôî</button>
            <button class="nav-item" onclick="switchMode('verbs')">ÎèôÏÇ¨ ÏãúÏ†ú</button>
            <button class="nav-item" onclick="switchMode('grammar')">Î¨∏Î≤ï</button>
            <button class="nav-item" onclick="switchMode('vocabulary')">Îã®Ïñ¥</button>
        </nav>
    </header>
    
    <main>
        <div class="progress-bar">
            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                <span id="mode-title">ÌöåÌôî Ïó∞Ïäµ</span>
                <span id="progress-text">1/10</span>
            </div>
            <div class="progress-track">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="streak">üî• 7Ïùº Ïó∞ÏÜç ÌïôÏäµ Ï§ë!</div>
        </div>
        
        <div id="conversation-mode">
            <div class="practice-card">
                <div class="prompt" id="prompt">
                    ¬°Hola! ¬øC√≥mo est√°s?
                </div>
                
                <div class="translation" id="main-translation"></div>
                
                <div class="translation-toggle">
                    <button class="translation-btn" onclick="toggleTranslation()">
                        üîç Îúª Î≥¥Í∏∞
                    </button>
                </div>
                
                <div class="options" id="options">
                    <!-- ÏòµÏÖòÎì§Ïù¥ Ïó¨Í∏∞ Îì§Ïñ¥Í∞ëÎãàÎã§ -->
                </div>
                
                <div class="feedback" id="feedback">
                    <!-- ÌîºÎìúÎ∞±Ïù¥ Ïó¨Í∏∞ ÌëúÏãúÎê©ÎãàÎã§ -->
                </div>
                
                <div class="navigation-buttons">
                    <button class="nav-btn prev arrow-left" onclick="navigatePractice(-1)" id="prev-btn">
                        Ïù¥Ï†Ñ
                    </button>
                    <button class="nav-btn next arrow-right" onclick="navigatePractice(1)" id="next-btn">
                        Îã§Ïùå
                    </button>
                </div>
            </div>
        </div>
        
        <div id="verb-mode" style="display: none;">
            <div class="practice-card">
                <div class="verb-tense-card">
                    <div class="verb-info">
                        <h3 id="verb-infinitive">hablar</h3>
                        <p id="verb-meaning">ÎßêÌïòÎã§</p>
                        <p id="tense-name">ÌòÑÏû¨ ÏãúÏ†ú (Presente)</p>
                    </div>
                    
                    <div class="conjugation-grid" id="conjugation-grid">
                        <!-- ÎèôÏÇ¨ ÌôúÏö© ÏûÖÎ†• ÌïÑÎìúÎì§Ïù¥ Ïó¨Í∏∞ Îì§Ïñ¥Í∞ëÎãàÎã§ -->
                    </div>
                    
                    <button class="check-btn" onclick="checkConjugations()" id="check-btn">ÌôïÏù∏ÌïòÍ∏∞</button>
                </div>
                
                <div class="navigation-buttons">
                    <button class="nav-btn prev arrow-left" onclick="navigateVerb(-1)" id="verb-prev-btn">
                        Ïù¥Ï†Ñ
                    </button>
                    <button class="nav-btn next arrow-right" onclick="navigateVerb(1)" id="verb-next-btn">
                        Îã§Ïùå
                    </button>
                </div>
            </div>
        </div>
        
        <div id="grammar-mode" style="display: none;">
            <div class="practice-card">
                <div class="grammar-section-selector" style="text-align: center; margin-bottom: 1rem;">
                    <button class="grammar-type-btn active" onclick="switchGrammarType('ser-estar')">Ser vs Estar</button>
                    <button class="grammar-type-btn" onclick="switchGrammarType('articles')">Í¥ÄÏÇ¨</button>
                    <button class="grammar-type-btn" onclick="switchGrammarType('pronouns')">ÎåÄÎ™ÖÏÇ¨</button>
                </div>
                <div id="grammar-content">
                    <!-- Î¨∏Î≤ï ÎÇ¥Ïö©Ïù¥ Ïó¨Í∏∞ Îì§Ïñ¥Í∞ëÎãàÎã§ -->
                </div>
            </div>
        </div>
        
        <div id="vocabulary-mode" style="display: none;">
            <div class="practice-card">
                <div class="vocab-topic-selector" style="text-align: center; margin-bottom: 1rem;">
                    <select id="vocab-topic" onchange="loadVocabularyTopic()" style="padding: 0.5rem; font-size: 1rem; border-radius: 5px;">
                        <option value="greetings">Ïù∏ÏÇ¨ÏôÄ Í∏∞Î≥∏ ÌëúÌòÑ</option>
                        <option value="family">Í∞ÄÏ°±</option>
                        <option value="food">ÏùåÏãù</option>
                        <option value="numbers">Ïà´Ïûê</option>
                        <option value="colors">ÏÉâÍπî</option>
                        <option value="time">ÏãúÍ∞Ñ</option>
                        <option value="body">Ïã†Ï≤¥</option>
                    </select>
                </div>
                <div id="vocab-content">
                    <!-- Îã®Ïñ¥ ÎÇ¥Ïö©Ïù¥ Ïó¨Í∏∞ Îì§Ïñ¥Í∞ëÎãàÎã§ -->
                </div>
            </div>
        </div>
    </main>
    
    <script>
        let currentMode = 'conversation';
        let currentIndex = 0;
        let currentVerbIndex = 0;
        let showingTranslation = false;
        let optionTranslations = {};
        let hasAnswered = false;
        let verbChecked = false;
        
        // ÌöåÌôî Ïó∞Ïäµ Îç∞Ïù¥ÌÑ∞
        const practices = [
            {
                prompt: "¬°Hola! ¬øC√≥mo est√°s?",
                translation: "ÏïàÎÖï! Ïñ¥ÎñªÍ≤å ÏßÄÎÇ¥?",
                options: [
                    { text: "Muy bien, gracias. ¬øY t√∫?", translation: "ÏïÑÏ£º Ïûò ÏßÄÎÇ¥, Í≥†ÎßàÏõå. ÎÑàÎäî?", correct: true },
                    { text: "Soy estudiante.", translation: "ÎÇòÎäî ÌïôÏÉùÏù¥Ïïº.", correct: false, explanation: "'¬øC√≥mo est√°s?'Îäî ÏïàÎ∂ÄÎ•º Î¨ªÎäî ÏßàÎ¨∏Ïù¥ÏóêÏöî. 'Soy estudiante'Îäî ÏßÅÏóÖÏùÑ ÎßêÌï† Îïå Ïç®Ïöî." },
                    { text: "Me llamo Juan.", translation: "ÎÇ¥ Ïù¥Î¶ÑÏùÄ ÌõÑÏïàÏù¥Ïïº.", correct: false, explanation: "Ïù¥Î¶ÑÏùÑ ÎßêÌïòÎäî ÌëúÌòÑÏù¥ÏóêÏöî. ÏïàÎ∂Ä Ïù∏ÏÇ¨ÏóêÎäî ÎßûÏßÄ ÏïäÏïÑÏöî." }
                ]
            },
            {
                prompt: "¬øC√≥mo te llamas?",
                translation: "Ïù¥Î¶ÑÏù¥ Î≠êÏïº?",
                options: [
                    { text: "Estoy bien.", translation: "Ïûò ÏßÄÎÇ¥.", correct: false, explanation: "ÏïàÎ∂ÄÎ•º ÎåÄÎãµÌïòÎäî ÌëúÌòÑÏù¥ÏóêÏöî. Ïù¥Î¶ÑÏùÑ Î¨ªÎäî ÏßàÎ¨∏ÏóêÎäî 'Me llamo...'Î°ú ÎãµÌï¥Ïöî." },
                    { text: "Me llamo Mar√≠a.", translation: "ÎÇ¥ Ïù¥Î¶ÑÏùÄ ÎßàÎ¶¨ÏïÑÏïº.", correct: true },
                    { text: "Tengo 20 a√±os.", translation: "ÎÇòÎäî 20ÏÇ¥Ïù¥Ïïº.", correct: false, explanation: "ÎÇòÏù¥Î•º ÎßêÌïòÎäî ÌëúÌòÑÏù¥ÏóêÏöî. Ïù¥Î¶ÑÏùÑ Î¨ºÏóàÏùÑ ÎïåÎäî ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÏïÑÏöî." }
                ]
            },
            {
                prompt: "¬øDe d√≥nde eres?",
                translation: "Ïñ¥ÎîîÏÑú ÏôîÏñ¥?",
                options: [
                    { text: "Soy de Corea.", translation: "ÎÇòÎäî ÌïúÍµ≠ÏóêÏÑú ÏôîÏñ¥.", correct: true },
                    { text: "Estoy en casa.", translation: "ÎÇòÎäî ÏßëÏóê ÏûàÏñ¥.", correct: false, explanation: "'Estar'Îäî ÏúÑÏπòÎ•º ÎÇòÌÉÄÎÇ¥Ïöî. Ï∂úÏã†ÏùÑ ÎßêÌï† ÎïåÎäî 'Ser de...'Î•º Ïç®Ïöî." },
                    { text: "Voy a la escuela.", translation: "ÎÇòÎäî ÌïôÍµêÏóê Í∞Ä.", correct: false, explanation: "Í∞ÄÎäî Í≥≥ÏùÑ ÎßêÌïòÎäî ÌëúÌòÑÏù¥ÏóêÏöî. Ï∂úÏã†ÏßÄÎ•º Î¨ºÏóàÏùÑ ÎïåÎäî ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÏïÑÏöî." }
                ]
            },
            {
                prompt: "¬øQu√© desea tomar?",
                translation: "Î¨¥ÏóáÏùÑ ÎìúÏãúÍ≤†Ïñ¥Ïöî?",
                options: [
                    { text: "Un caf√©, por favor.", translation: "Ïª§Ìîº ÌïòÎÇò Ï£ºÏÑ∏Ïöî.", correct: true },
                    { text: "Soy coreano.", translation: "Ï†ÄÎäî ÌïúÍµ≠Ïù∏ÏûÖÎãàÎã§.", correct: false, explanation: "ÏùåÎ£å Ï£ºÎ¨∏Í≥º Í¥ÄÍ≥ÑÏóÜÎäî ÎåÄÎãµÏù¥ÏóêÏöî." },
                    { text: "Est√° bien.", translation: "Í¥úÏ∞ÆÏïÑÏöî.", correct: false, explanation: "Ï£ºÎ¨∏Ìï† ÎïåÎäî ÏõêÌïòÎäî Í≤ÉÏùÑ Íµ¨Ï≤¥Ï†ÅÏúºÎ°ú ÎßêÌï¥Ïïº Ìï¥Ïöî." }
                ]
            },
            {
                prompt: "¬øCu√°nto cuesta?",
                translation: "ÏñºÎßàÏòàÏöî?",
                options: [
                    { text: "Me gusta mucho.", translation: "Ï†ïÎßê Ï¢ãÏïÑÌï¥Ïöî.", correct: false, explanation: "Í∞ÄÍ≤©ÏùÑ Î¨ºÏóàÏùÑ ÎïåÎäî Ïà´ÏûêÎ°ú ÎãµÌï¥Ïïº Ìï¥Ïöî." },
                    { text: "Son diez euros.", translation: "10Ïú†Î°úÏûÖÎãàÎã§.", correct: true },
                    { text: "Est√° cerca.", translation: "Í∞ÄÍπåÏõåÏöî.", correct: false, explanation: "Í±∞Î¶¨Î•º ÎÇòÌÉÄÎÇ¥Îäî ÌëúÌòÑÏù¥ÏóêÏöî. Í∞ÄÍ≤©Í≥ºÎäî Í¥ÄÍ≥ÑÏóÜÏñ¥Ïöî." }
                ]
            },
            {
                prompt: "¬øHablas espa√±ol?",
                translation: "Ïä§ÌéòÏù∏Ïñ¥ Ìï† Ï§Ñ ÏïåÏïÑ?",
                options: [
                    { text: "Un poco.", translation: "Ï°∞Í∏à.", correct: true },
                    { text: "Tengo hambre.", translation: "Î∞∞Í≥†Ìåå.", correct: false, explanation: "Ïñ∏Ïñ¥ Îä•Î†•Í≥º Í¥ÄÍ≥ÑÏóÜÎäî ÎåÄÎãµÏù¥ÏóêÏöî." },
                    { text: "Es bonito.", translation: "ÏòàÎªê.", correct: false, explanation: "Î¨¥Ïñ∏Í∞ÄÎ•º ÌèâÍ∞ÄÌïòÎäî ÌëúÌòÑÏù¥ÏóêÏöî. Ïñ∏Ïñ¥ Îä•Î†•ÏùÑ Î¨ºÏóàÏùÑ ÎïåÎäî ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÏïÑÏöî." }
                ]
            },
            {
                prompt: "¬øQu√© hora es?",
                translation: "Î™á ÏãúÏïº?",
                options: [
                    { text: "Hace calor.", translation: "ÎÇ†Ïî®Í∞Ä ÎçîÏõå.", correct: false, explanation: "ÎÇ†Ïî®Î•º ÎßêÌïòÎäî ÌëúÌòÑÏù¥ÏóêÏöî. ÏãúÍ∞ÑÏùÑ Î¨ºÏóàÏùÑ ÎïåÎäî 'Son las...'Î°ú ÎãµÌï¥Ïöî." },
                    { text: "Son las tres.", translation: "3ÏãúÏïº.", correct: true },
                    { text: "Vivo aqu√≠.", translation: "Ïó¨Í∏∞ ÏÇ¥ÏïÑ.", correct: false, explanation: "Í±∞Ï£ºÏßÄÎ•º ÎßêÌïòÎäî ÌëúÌòÑÏù¥ÏóêÏöî. ÏãúÍ∞ÑÍ≥ºÎäî Í¥ÄÍ≥ÑÏóÜÏñ¥Ïöî." }
                ]
            },
            {
                prompt: "¬øD√≥nde est√° el ba√±o?",
                translation: "ÌôîÏû•Ïã§Ïù¥ Ïñ¥ÎîîÏòàÏöî?",
                options: [
                    { text: "Me gusta.", translation: "Ï¢ãÏïÑÌï¥Ïöî.", correct: false, explanation: "ÏúÑÏπòÎ•º Î¨ºÏóàÏùÑ ÎïåÎäî Ïû•ÏÜåÎ•º ÏïåÎ†§Ï§òÏïº Ìï¥Ïöî." },
                    { text: "Est√° al fondo.", translation: "ÏïàÏ™ΩÏóê ÏûàÏñ¥Ïöî.", correct: true },
                    { text: "Tengo sed.", translation: "Î™©ÎßêÎùºÏöî.", correct: false, explanation: "ÏúÑÏπò ÏßàÎ¨∏Í≥º Í¥ÄÍ≥ÑÏóÜÎäî ÎåÄÎãµÏù¥ÏóêÏöî." }
                ]
            },
            {
                prompt: "Gracias.",
                translation: "Í≥†ÎßàÏõå.",
                options: [
                    { text: "De nada.", translation: "Ï≤úÎßåÏóê.", correct: true },
                    { text: "Buenos d√≠as.", translation: "Ï¢ãÏùÄ ÏïÑÏπ®.", correct: false, explanation: "Í∞êÏÇ¨ Ïù∏ÏÇ¨ÏóêÎäî 'De nada'ÎÇò 'No hay de qu√©'Î°ú ÎãµÌï¥Ïöî." },
                    { text: "Hasta luego.", translation: "ÎÇòÏ§ëÏóê Î¥ê.", correct: false, explanation: "ÏûëÎ≥Ñ Ïù∏ÏÇ¨ÏòàÏöî. Í∞êÏÇ¨ Ïù∏ÏÇ¨Ïóê ÎåÄÌïú ÎãµÏù¥ ÏïÑÎãàÏóêÏöî." }
                ]
            },
            {
                prompt: "¬øTienes hermanos?",
                translation: "ÌòïÏ†úÏûêÎß§Í∞Ä ÏûàÏñ¥?",
                options: [
                    { text: "S√≠, tengo dos hermanas.", translation: "Ïùë, Ïó¨ÎèôÏÉùÏù¥ Îëò ÏûàÏñ¥.", correct: true },
                    { text: "Estoy cansado.", translation: "ÌîºÍ≥§Ìï¥.", correct: false, explanation: "Í∞ÄÏ°±Ïóê ÎåÄÌïú ÏßàÎ¨∏Í≥º Í¥ÄÍ≥ÑÏóÜÎäî ÎåÄÎãµÏù¥ÏóêÏöî." },
                    { text: "Es lunes.", translation: "ÏõîÏöîÏùºÏù¥Ïïº.", correct: false, explanation: "ÏöîÏùºÏùÑ ÎßêÌïòÎäî ÌëúÌòÑÏù¥ÏóêÏöî. Í∞ÄÏ°± Í¥ÄÍ≥ÑÎ•º Î¨ºÏóàÏùÑ ÎïåÎäî ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÏïÑÏöî." }
                ]
            }
        ];
        
        // ÎèôÏÇ¨ ÏãúÏ†ú Ïó∞Ïäµ Îç∞Ïù¥ÌÑ∞
        const verbPractices = [
            {
                infinitive: "hablar",
                meaning: "ÎßêÌïòÎã§",
                type: "ar",
                tense: "presente",
                tenseName: "ÌòÑÏû¨ ÏãúÏ†ú (Presente)",
                conjugations: {
                    "yo": "hablo",
                    "t√∫": "hablas",
                    "√©l/ella": "habla",
                    "nosotros": "hablamos",
                    "vosotros": "habl√°is",
                    "ellos": "hablan"
                }
            },
            {
                infinitive: "comer",
                meaning: "Î®πÎã§",
                type: "er",
                tense: "presente",
                tenseName: "ÌòÑÏû¨ ÏãúÏ†ú (Presente)",
                conjugations: {
                    "yo": "como",
                    "t√∫": "comes",
                    "√©l/ella": "come",
                    "nosotros": "comemos",
                    "vosotros": "com√©is",
                    "ellos": "comen"
                }
            },
            {
                infinitive: "vivir",
                meaning: "ÏÇ¥Îã§",
                type: "ir",
                tense: "presente",
                tenseName: "ÌòÑÏû¨ ÏãúÏ†ú (Presente)",
                conjugations: {
                    "yo": "vivo",
                    "t√∫": "vives",
                    "√©l/ella": "vive",
                    "nosotros": "vivimos",
                    "vosotros": "viv√≠s",
                    "ellos": "viven"
                }
            },
            {
                infinitive: "hablar",
                meaning: "ÎßêÌïòÎã§",
                type: "ar",
                tense: "preterito",
                tenseName: "Îã®ÏàúÍ≥ºÍ±∞ (Pret√©rito)",
                conjugations: {
                    "yo": "habl√©",
                    "t√∫": "hablaste",
                    "√©l/ella": "habl√≥",
                    "nosotros": "hablamos",
                    "vosotros": "hablasteis",
                    "ellos": "hablaron"
                }
            },
            {
                infinitive: "ser",
                meaning: "Ïù¥Îã§ (Î≥∏Ïßà)",
                type: "irregular",
                tense: "presente",
                tenseName: "ÌòÑÏû¨ ÏãúÏ†ú (Presente)",
                conjugations: {
                    "yo": "soy",
                    "t√∫": "eres",
                    "√©l/ella": "es",
                    "nosotros": "somos",
                    "vosotros": "sois",
                    "ellos": "son"
                }
            },
            {
                infinitive: "estar",
                meaning: "Ïù¥Îã§ (ÏÉÅÌÉú/ÏúÑÏπò)",
                type: "irregular",
                tense: "presente",
                tenseName: "ÌòÑÏû¨ ÏãúÏ†ú (Presente)",
                conjugations: {
                    "yo": "estoy",
                    "t√∫": "est√°s",
                    "√©l/ella": "est√°",
                    "nosotros": "estamos",
                    "vosotros": "est√°is",
                    "ellos": "est√°n"
                }
            },
            {
                infinitive: "tener",
                meaning: "Í∞ÄÏßÄÎã§",
                type: "irregular",
                tense: "presente",
                tenseName: "ÌòÑÏû¨ ÏãúÏ†ú (Presente)",
                conjugations: {
                    "yo": "tengo",
                    "t√∫": "tienes",
                    "√©l/ella": "tiene",
                    "nosotros": "tenemos",
                    "vosotros": "ten√©is",
                    "ellos": "tienen"
                }
            },
            {
                infinitive: "poder",
                meaning: "Ìï† Ïàò ÏûàÎã§",
                type: "irregular",
                tense: "presente",
                tenseName: "ÌòÑÏû¨ ÏãúÏ†ú (Presente)",
                conjugations: {
                    "yo": "puedo",
                    "t√∫": "puedes",
                    "√©l/ella": "puede",
                    "nosotros": "podemos",
                    "vosotros": "pod√©is",
                    "ellos": "pueden"
                }
            },
            {
                infinitive: "comer",
                meaning: "Î®πÎã§",
                type: "er",
                tense: "preterito",
                tenseName: "Îã®ÏàúÍ≥ºÍ±∞ (Pret√©rito)",
                conjugations: {
                    "yo": "com√≠",
                    "t√∫": "comiste",
                    "√©l/ella": "comi√≥",
                    "nosotros": "comimos",
                    "vosotros": "comisteis",
                    "ellos": "comieron"
                }
            },
            {
                infinitive: "hablar",
                meaning: "ÎßêÌïòÎã§",
                type: "ar",
                tense: "imperfecto",
                tenseName: "Î∂àÏôÑÎ£åÍ≥ºÍ±∞ (Imperfecto)",
                conjugations: {
                    "yo": "hablaba",
                    "t√∫": "hablabas",
                    "√©l/ella": "hablaba",
                    "nosotros": "habl√°bamos",
                    "vosotros": "hablabais",
                    "ellos": "hablaban"
                }
            }
        ];
        
        const modeTitles = {
            conversation: "ÌöåÌôî Ïó∞Ïäµ",
            verbs: "ÎèôÏÇ¨ ÏãúÏ†ú Ïó∞Ïäµ",
            grammar: "Î¨∏Î≤ï Ïó∞Ïäµ",
            vocabulary: "Îã®Ïñ¥ ÌïôÏäµ"
        };
        
        function switchMode(mode) {
            currentMode = mode;
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            event.target.classList.add('active');
            
            // Î™®Îì† Î™®Îìú Ïà®Í∏∞Í∏∞
            document.getElementById('conversation-mode').style.display = 'none';
            document.getElementById('verb-mode').style.display = 'none';
            document.getElementById('grammar-mode').style.display = 'none';
            document.getElementById('vocabulary-mode').style.display = 'none';
            
            // ÏÑ†ÌÉùÎêú Î™®Îìú Î≥¥Ïó¨Ï£ºÍ∏∞
            document.getElementById(`${mode}-mode`).style.display = 'block';
            
            // Î™®Îìú Ï†úÎ™© ÏóÖÎç∞Ïù¥Ìä∏
            document.getElementById('mode-title').textContent = modeTitles[mode];
            
            // Ïù∏Îç±Ïä§ Ï¥àÍ∏∞Ìôî
            if (mode === 'conversation') {
                currentIndex = 0;
                showPractice(currentIndex);
            } else if (mode === 'verbs') {
                currentVerbIndex = 0;
                showVerbPractice(currentVerbIndex);
            }
            
            updateProgress();
        }
        
        function updateProgress() {
            let current, total;
            
            if (currentMode === 'conversation') {
                current = currentIndex + 1;
                total = practices.length;
            } else if (currentMode === 'verbs') {
                current = currentVerbIndex + 1;
                total = verbPractices.length;
            } else {
                current = 0;
                total = 10;
            }
            
            const percentage = ((current - 1) / total) * 100;
            document.getElementById('progress-fill').style.width = percentage + '%';
            document.getElementById('progress-text').textContent = `${current}/${total}`;
        }
        
        function toggleTranslation() {
            showingTranslation = !showingTranslation;
            const mainTranslation = document.getElementById('main-translation');
            const optionTranslations = document.querySelectorAll('.option-translation');
            
            if (showingTranslation) {
                mainTranslation.textContent = practices[currentIndex].translation;
                optionTranslations.forEach(el => el.classList.add('show'));
                document.querySelector('.translation-btn').textContent = 'üôà Îúª Ïà®Í∏∞Í∏∞';
            } else {
                mainTranslation.textContent = '';
                optionTranslations.forEach(el => el.classList.remove('show'));
                document.querySelector('.translation-btn').textContent = 'üîç Îúª Î≥¥Í∏∞';
            }
        }
        
        function toggleOptionTranslation(index) {
            const translationEl = document.getElementById(`translation-${index}`);
            const toggleBtn = event.target;
            
            if (optionTranslations[index]) {
                optionTranslations[index] = false;
                translationEl.classList.remove('show');
                toggleBtn.textContent = 'Îúª';
            } else {
                optionTranslations[index] = true;
                translationEl.classList.add('show');
                toggleBtn.textContent = 'Ïà®Í∏∞Í∏∞';
            }
        }
        
        function selectOption(index) {
            if (hasAnswered) return;
            
            const practice = practices[currentIndex];
            const selectedOption = practice.options[index];
            const buttons = document.querySelectorAll('.option-btn');
            
            hasAnswered = true;
            
            // Î™®Îì† Î≤ÑÌäº ÎπÑÌôúÏÑ±Ìôî
            buttons.forEach(btn => {
                btn.disabled = true;
                btn.classList.add('disabled');
            });
            
            // Ï†ïÎãµ/Ïò§Îãµ ÌëúÏãú
            buttons.forEach((btn, i) => {
                if (practice.options[i].correct) {
                    btn.classList.add('correct');
                } else if (i === index && !selectedOption.correct) {
                    btn.classList.add('incorrect');
                }
            });
            
            // ÌîºÎìúÎ∞± ÌëúÏãú
            const feedback = document.getElementById('feedback');
            if (selectedOption.correct) {
                feedback.className = 'feedback show correct';
                feedback.innerHTML = `
                    <div>¬°Muy bien! Ï†ïÎãµÏù¥ÏóêÏöî! üëè</div>
                `;
            } else {
                feedback.className = 'feedback show incorrect';
                feedback.innerHTML = `
                    <div>ÏïÑÏâ¨ÏõåÏöî! Îã§Ïãú Ìïú Î≤à ÏÉùÍ∞ÅÌï¥Î≥¥ÏÑ∏Ïöî.</div>
                    <div class="explanation">${selectedOption.explanation}</div>
                `;
            }
            
            // Î™®Îì† Î≤àÏó≠ ÏûêÎèôÏúºÎ°ú Î≥¥Ïó¨Ï£ºÍ∏∞
            const allTranslations = document.querySelectorAll('.option-translation');
            allTranslations.forEach((el, i) => {
                el.classList.add('show');
                document.querySelector(`#toggle-${i}`).textContent = 'Ïà®Í∏∞Í∏∞';
                optionTranslations[i] = true;
            });
            
            if (!showingTranslation) {
                toggleTranslation();
            }
        }
        
        function showPractice(index) {
            const practice = practices[index];
            document.getElementById('prompt').textContent = practice.prompt;
            document.getElementById('main-translation').textContent = '';
            
            // Î≤àÏó≠ Î≤ÑÌäº Ï¥àÍ∏∞Ìôî
            showingTranslation = false;
            document.querySelector('.translation-btn').textContent = 'üîç Îúª Î≥¥Í∏∞';
            
            // ÏòµÏÖò Î≤àÏó≠ ÏÉÅÌÉú Ï¥àÍ∏∞Ìôî
            optionTranslations = {};
            hasAnswered = false;
            
            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = practice.options.map((opt, i) => 
                `<button class="option-btn" onclick="selectOption(${i})">
                    <div class="option-text">
                        <div>${opt.text}</div>
                        <div class="option-translation" id="translation-${i}">${opt.translation}</div>
                    </div>
                    <span class="option-translation-toggle" id="toggle-${i}" onclick="event.stopPropagation(); toggleOptionTranslation(${i})">Îúª</span>
                </button>`
            ).join('');
            
            document.getElementById('feedback').classList.remove('show');
            document.getElementById('feedback').className = 'feedback';
            
            // ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Î≤ÑÌäº ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏
            updateNavigationButtons();
        }
        
        function navigatePractice(direction) {
            const newIndex = currentIndex + direction;
            
            if (newIndex >= 0 && newIndex < practices.length) {
                currentIndex = newIndex;
                showPractice(currentIndex);
                updateProgress();
            }
        }
        
        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = currentIndex === practices.length - 1;
        }
        
        function showVerbPractice(index) {
            const practice = verbPractices[index];
            document.getElementById('verb-infinitive').textContent = practice.infinitive;
            document.getElementById('verb-meaning').textContent = practice.meaning;
            document.getElementById('tense-name').textContent = practice.tenseName;
            
            verbChecked = false;
            document.getElementById('check-btn').textContent = 'ÌôïÏù∏ÌïòÍ∏∞';
            document.getElementById('check-btn').disabled = false;
            
            const gridDiv = document.getElementById('conjugation-grid');
            gridDiv.innerHTML = Object.keys(practice.conjugations).map(subject => 
                `<div class="conjugation-item">
                    <div class="subject">${subject}</div>
                    <input type="text" class="conjugation-input" id="input-${subject}" 
                           placeholder="?" data-answer="${practice.conjugations[subject]}">
                </div>`
            ).join('');
            
            // ÏóîÌÑ∞ÌÇ§Î°ú Îã§Ïùå ÏûÖÎ†•Ïπ∏ÏúºÎ°ú Ïù¥Îèô
            const inputs = gridDiv.querySelectorAll('input');
            inputs.forEach((input, i) => {
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        if (i < inputs.length - 1) {
                            inputs[i + 1].focus();
                        } else {
                            checkConjugations();
                        }
                    }
                });
            });
            
            // Ï≤´ Î≤àÏß∏ ÏûÖÎ†•Ïπ∏Ïóê Ìè¨Ïª§Ïä§
            inputs[0]?.focus();
            
            // ÎèôÏÇ¨ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Î≤ÑÌäº ÏóÖÎç∞Ïù¥Ìä∏
            updateVerbNavigationButtons();
        }
        
        function checkConjugations() {
            if (verbChecked) return;
            
            const inputs = document.querySelectorAll('.conjugation-input');
            let allCorrect = true;
            
            inputs.forEach(input => {
                const userAnswer = input.value.trim().toLowerCase();
                const correctAnswer = input.getAttribute('data-answer').toLowerCase();
                
                if (userAnswer === correctAnswer) {
                    input.classList.add('correct');
                    input.classList.remove('incorrect');
                } else {
                    input.classList.add('incorrect');
                    input.classList.remove('correct');
                    allCorrect = false;
                    // Ï†ïÎãµ ÌëúÏãú
                    input.value = input.value + ' ‚Üí ' + correctAnswer;
                }
            });
            
            verbChecked = true;
            document.getElementById('check-btn').textContent = allCorrect ? 'ÏôÑÎ≤ΩÌï¥Ïöî! üéâ' : 'Îã§Ïãú Ïó∞ÏäµÌï¥Î≥¥ÏÑ∏Ïöî';
            document.getElementById('check-btn').disabled = true;
        }
        
        function navigateVerb(direction) {
            const newIndex = currentVerbIndex + direction;
            
            if (newIndex >= 0 && newIndex < verbPractices.length) {
                currentVerbIndex = newIndex;
                showVerbPractice(currentVerbIndex);
                updateProgress();
            }
        }
        
        function updateVerbNavigationButtons() {
            const prevBtn = document.getElementById('verb-prev-btn');
            const nextBtn = document.getElementById('verb-next-btn');
            
            prevBtn.disabled = currentVerbIndex === 0;
            nextBtn.disabled = currentVerbIndex === verbPractices.length - 1;
        }
        
        function showCompletion() {
            const card = document.querySelector('.practice-card');
            card.innerHTML = `
                <div style="text-align: center; padding: 2rem;">
                    <h2 style="font-size: 2rem; margin-bottom: 1rem;">üéâ</h2>
                    <h3 style="margin-bottom: 1rem;">¬°Felicidades!</h3>
                    <p>Ïò§ÎäòÏùò ÌïôÏäµÏùÑ ÏôÑÎ£åÌñàÏñ¥Ïöî!</p>
                    <p style="margin-top: 1rem; color: #666;">ÎÇ¥Ïùº Îòê ÎßåÎÇòÏöî üëã</p>
                    <button onclick="location.reload()" style="margin-top: 2rem; padding: 0.5rem 2rem; background: #3b82f6; color: white; border: none; border-radius: 5px; cursor: pointer;">
                        Îã§Ïãú Ïó∞ÏäµÌïòÍ∏∞
                    </button>
                </div>
            `;
        }
        
        // ÏãúÏûë
        updateProgress();
        if (currentMode === 'conversation') {
            showPractice(0);
        }
    </script>
</body>
</html>
